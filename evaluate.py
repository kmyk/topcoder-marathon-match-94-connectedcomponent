#!/usr/bin/env python3
import math
import subprocess
import collections
import os
import sys
import concurrent.futures

table = {
    10: [1],
    50: [1869, 611, 1912, 2, 1021, 135, 177],
    51: [1984, 77, 1505, 1110, 66, 78, 1526, 1901],
    52: [944, 844, 767],
    53: [1426, 375, 978],
    54: [1332],
    55: [1124, 1886, 11, 210, 1821, 693, 1483, 1407, 1414, 1012, 1651, 1024],
    56: [325, 1973, 1949, 1910, 1255],
    57: [963, 1933, 1068, 281, 795],
    58: [1420, 415, 1295, 70, 1261],
    59: [574, 644, 938, 176, 1615, 1141, 1039, 156, 158],
    60: [172, 34],
    61: [876, 398, 323],
    62: [199, 353, 1888, 81],
    63: [1203, 635, 612, 740, 1752],
    64: [1705, 536, 327, 373],
    65: [252, 236, 920, 461, 883],
    66: [1323, 134, 741, 314, 1527],
    67: [426, 1639, 866],
    68: [88, 1341, 442, 1064, 1412],
    69: [663, 1701, 1572],
    70: [1754],
    71: [1282, 906, 186, 1644],
    72: [758, 700, 21, 948, 817, 910],
    73: [1310, 1706, 23],
    74: [255, 535, 350],
    75: [1732, 789, 1602, 1918, 1902, 1437],
    76: [1862, 760, 1275, 355, 1551, 1921],
    77: [1875, 212, 1958, 1842, 1514, 45, 1747, 1428],
    78: [681, 409, 629, 1360, 982],
    79: [1815, 1729, 183, 1668, 1525, 987],
    80: [217, 802, 191, 1205, 955],
    81: [887, 1387, 1844, 730],
    82: [1779, 1927, 497],
    83: [358, 1718, 114517],
    84: [1746, 243, 37],
    85: [1193, 463, 1734, 881, 650, 598],
    86: [114515, 1018, 1624, 958, 1978],
    87: [1419, 106, 897, 1472, 63],
    88: [1385, 1172, 480, 1423, 261],
    89: [1738, 934, 153, 1028],
    90: [877, 1137],
    91: [1092, 994, 1681],
    92: [814, 1654, 288, 759, 1814],
    93: [560, 1104, 566, 1570],
    94: [136, 269, 1586, 575, 1075],
    95: [279, 1750, 1563],
    96: [1650, 98, 751],
    97: [720, 52, 832, 1655, 126, 1163],
    98: [454, 1576],
    99: [1591, 1388, 162],
    100: [271, 1595, 988],
    101: [181, 167, 280, 390, 1530, 1400, 1443, 646, 1183],
    102: [175, 1405, 484, 1123, 1027, 4, 1446, 405],
    103: [1612, 763, 1026, 1032, 1535, 636, 206, 1598],
    104: [1848, 1896],
    105: [1965, 1691, 878, 965, 970, 1558],
    106: [867, 1843, 487, 141, 1401, 1356, 818],
    107: [285, 1244, 605, 64, 1020],
    108: [420, 941],
    109: [813, 1518, 414, 1482],
    110: [1956, 1180, 359, 383],
    111: [669, 1166, 1164, 39],
    112: [1742, 372, 1943, 1607, 143],
    113: [61, 128, 771, 1628],
    114: [65, 428, 858, 1920, 1126, 1951],
    115: [55, 494, 630],
    116: [787, 477, 1817],
    117: [356, 1787, 144, 211],
    118: [738, 1801, 914, 1297, 1499, 1216],
    119: [240, 1727, 1797, 1357, 625],
    120: [1967, 5, 1834, 1694, 1059, 736, 1929],
    121: [1072, 986],
    122: [766, 1496, 599, 1249],
    123: [960, 1569, 1550, 1138, 932],
    124: [1417, 1623, 824, 1378, 416],
    125: [744, 775, 735, 344, 1189, 1379, 1772, 1838, 874, 805],
    126: [1473, 746, 585, 571, 1756, 1536],
    127: [907, 1631, 1051, 1491, 1966],
    128: [173, 1889, 1634],
    129: [890, 1652, 1592, 93, 56, 407],
    130: [548, 1063, 576],
    131: [1897, 1458, 532],
    132: [396, 1503, 76, 1672, 1638, 1251, 430, 1587, 506, 1890],
    133: [377, 1993, 1130],
    134: [1230, 221],
    135: [328, 432, 706, 1676],
    136: [1557, 19, 1516],
    137: [385, 1892],
    138: [1329, 1625, 984, 1678],
    139: [812],
    140: [799, 1376, 1867, 1583, 864, 114514, 44],
    141: [330, 457, 1477, 1629, 1605, 121, 1954, 393, 639],
    142: [380, 1506, 130, 254, 1147],
    143: [1773, 1565],
    144: [25, 1294],
    145: [619, 1485, 1996, 471, 859, 833, 231],
    146: [724, 1751, 1218, 1396, 998, 1382],
    147: [925],
    148: [645, 1781, 1077, 256, 1616],
    149: [845, 1069, 1109, 33, 1868, 1854],
    150: [140, 503, 1235, 114521],
    151: [1471, 1986, 1682, 971, 265],
    152: [248, 320],
    153: [1142, 1460, 1296, 298, 71, 1545, 131, 852],
    154: [90, 1440, 205],
    155: [1494, 1999, 967, 1539, 59, 283],
    156: [1095, 1740, 500, 339, 747],
    157: [230, 777, 1259, 137, 1819, 734, 438, 1784],
    158: [16, 148, 721, 354],
    159: [1129, 1500, 1165, 924, 1184],
    160: [92, 590, 995, 885, 675, 1675],
    161: [1328, 1532, 1708, 737],
    162: [1299, 1913, 1990, 1830],
    163: [472, 189, 615],
    164: [1761, 860, 1318, 440],
    165: [671, 300, 1054, 1185, 406, 310, 133],
    166: [1049, 1753, 974],
    167: [1238, 108],
    168: [543, 1975, 1470, 360, 1326, 362, 1783],
    169: [368, 1567, 1855, 209, 1403],
    170: [456, 403, 583],
    171: [382, 1626, 687, 1285, 1771, 1384],
    172: [1324, 664, 74],
    173: [1148, 1828, 215, 332],
    174: [157, 399, 778],
    175: [1061, 142, 1281, 1948, 458, 531],
    176: [504, 1853, 579, 482, 1283, 1810, 1661],
    177: [1640],
    178: [609],
    179: [262, 601, 1156, 1755, 880],
    180: [899, 1479, 685, 1062, 1065],
    181: [478, 882, 228, 1343],
    182: [1899, 1345, 701, 192, 1865],
    183: [1257, 1044, 1094, 1433, 1464, 27, 923, 901, 672, 915],
    184: [908, 801, 1430],
    185: [99, 1667, 1476, 797, 1010],
    186: [1304],
    187: [525, 202, 945],
    188: [1390, 783, 959],
    189: [1670, 1720, 957, 391, 1462],
    190: [562, 606],
    191: [886, 1181, 1182, 82, 809],
    192: [1168, 1522, 450],
    193: [464],
    194: [1206, 1805, 1487, 336, 1410, 109],
    195: [1577, 1531, 1219, 1253, 1454],
    196: [656, 47, 1071, 1940, 341, 264],
    197: [370, 1112, 508, 492, 1630, 250],
    198: [1349],
    199: [1375, 452, 1143, 1342, 326, 665],
    200: [540, 793, 1510, 295, 1721],
    201: [1397, 1309, 951, 931, 861, 694, 1306],
    202: [246, 305, 329, 1040, 1938, 1509],
    203: [1153, 1970, 757, 286],
    204: [1034, 997, 1833],
    205: [1840, 351, 1925, 1935, 1523],
    206: [150, 1898, 83, 792, 1188, 1646],
    207: [854, 1719],
    208: [1919, 1934],
    209: [1578, 1096, 614, 1108, 839, 719, 1502, 1159],
    210: [94, 1689, 680, 1736, 1512, 1546, 633, 937, 1857, 940],
    211: [1566, 347, 788, 961, 1231],
    212: [731],
    213: [696, 705, 219, 691, 892, 811, 343, 1160, 856],
    214: [241, 1928, 1173, 711],
    215: [962, 1358, 302, 1125, 1547, 1543, 1847, 754],
    216: [902, 1542, 1087, 43, 613, 1968, 843, 465, 893],
    217: [1839, 1427, 722],
    218: [725, 1139, 421, 7, 1359],
    219: [762, 954, 784, 651, 752, 1267, 803],
    220: [154, 334, 1213, 237],
    221: [410, 1474, 1252, 287],
    222: [703, 1330],
    223: [1519],
    224: [909, 1300, 242, 319],
    225: [388, 749, 640, 1664],
    226: [1994, 786, 1117, 1465],
    227: [1697, 1351, 349, 979, 1744, 632, 102],
    228: [953, 969, 333],
    229: [501, 715, 1758, 1017],
    230: [529, 1046, 1621],
    231: [1596, 726, 1513, 1698, 648],
    232: [1097, 1121, 1314, 1703, 1186, 1241],
    233: [745, 24, 865, 780],
    234: [1796, 1447, 1041],
    235: [1534, 1179, 729, 553, 617, 1102],
    236: [1322, 1767, 621, 1950, 895, 652],
    237: [1151, 1911, 1832, 1552, 195],
    238: [1497, 115, 1196, 1331],
    239: [774, 122, 425, 387, 1171, 1850],
    240: [1225, 1352, 1826, 1812, 1915, 921],
    241: [321, 1149, 1553, 1743, 1441, 1169],
    242: [1120, 379, 36],
    243: [1170, 498],
    244: [1636, 732, 1226, 1688, 1827, 84, 184],
    245: [966, 68, 702, 1906],
    246: [38, 28, 1204],
    247: [806, 542, 539],
    248: [546, 1050],
    249: [1528, 267],
    250: [1321, 187, 437],
    251: [198, 828, 1074, 723, 1851],
    252: [764, 1240],
    253: [1045, 1395, 1254, 1603, 627],
    254: [1133, 1989, 1220, 317, 1303, 51],
    255: [1724, 149, 86, 1001],
    256: [1521, 1468, 1399, 1894, 875, 1442, 233, 600],
    257: [1904, 41, 1372, 434, 1648, 559, 1157],
    258: [418, 1643, 1197, 846],
    259: [873, 110, 35, 1224],
    260: [1463, 816, 594, 1669, 40, 1864, 850, 922],
    261: [1903, 1086, 1507, 1922, 1011],
    262: [607, 49, 1239, 690, 12, 234],
    263: [1695, 1757],
    264: [708, 164, 1856, 1319, 1209, 1161, 1683, 1930, 1057],
    265: [1176, 499, 1807, 270, 1334],
    266: [649, 1741, 1448, 244, 1266, 891, 200],
    268: [1066],
    269: [1338, 1469],
    270: [1128, 1451, 1056, 10],
    271: [1370, 275, 1980, 151, 1647, 972, 1582, 1167],
    272: [1498, 1058, 1115, 516],
    273: [507, 1265, 1849, 72],
    274: [1208, 30, 1905, 197, 1207, 459],
    275: [505, 718, 1154],
    276: [276, 152],
    277: [1544, 547, 1333, 29, 427, 1336],
    278: [1107, 54],
    279: [1707, 1590, 1155, 1247, 947, 1466],
    280: [433, 365, 1118, 1048],
    281: [1190, 1608],
    282: [1813, 1232, 367],
    283: [1406, 1217, 1258],
    284: [1144, 1606, 1762, 603, 1887],
    285: [1637, 515, 1798],
    286: [260, 624, 163, 289, 1568, 661, 563],
    287: [308, 670, 1488, 950, 1013],
    288: [756, 1418, 1649],
    289: [1764, 1301, 1959, 1765, 678, 194, 322],
    290: [104, 1714, 105, 1268],
    291: [1016, 1981, 1308, 1480],
    292: [551, 247, 1811],
    293: [1053, 666, 1979, 1369, 1963],
    294: [253, 1715, 423, 1119],
    295: [1766, 800, 1270, 898],
    296: [1211, 1023, 474, 985, 1450, 581],
    297: [1481, 1234, 1089, 977, 1520, 975, 1415, 900],
    298: [226, 1067, 973],
    299: [586, 342, 1374, 1885, 42],
    300: [1091, 990, 837, 453, 1256, 676, 75, 755],
    301: [1932, 1381, 278, 641, 411, 232],
    302: [1785, 1150, 894, 1264, 1619, 918, 299, 712, 111],
    303: [364, 1111, 124],
    304: [1425, 572, 1392, 1846, 1877],
    305: [1515, 592],
    306: [1511, 73, 1909, 1022, 1964, 686],
    307: [602, 1002, 838, 1080, 1025, 1863],
    308: [1277, 1347, 1789],
    309: [1005],
    310: [483, 1609, 913, 704, 376, 91, 981, 1103],
    311: [294],
    312: [315, 145, 1893, 1038],
    313: [1939, 912],
    314: [1700],
    315: [201, 263, 204],
    316: [638, 835, 1679, 1674, 1818],
    317: [1656, 486, 1100, 1635, 1037, 1657],
    318: [1560, 1014],
    319: [1431, 1627, 451, 1760, 1015],
    320: [188, 1362, 1858, 1456, 1541, 1260],
    321: [904, 1293, 1222],
    322: [95, 469, 1988, 999, 216, 1739, 1223, 1878, 826],
    323: [1274, 1302, 444],
    324: [655, 80, 1490],
    325: [1194, 1822],
    326: [1786, 1620, 1931, 1386],
    327: [834, 1008, 48, 1601, 1504],
    328: [1969, 103, 348, 653, 917],
    329: [772, 165],
    330: [847, 520, 125, 1876, 1042, 628],
    331: [538, 112, 386, 171, 159],
    332: [1413, 527, 1131, 118, 526],
    333: [1055, 916, 733, 1776, 1435, 1383],
    334: [1116, 1671, 822, 991, 533, 1977],
    335: [404, 345, 139, 1434],
    336: [513, 1622, 791, 1593, 1735],
    337: [1408, 1276, 1339, 488],
    338: [1495, 1788, 1795, 1737, 555],
    339: [517, 770, 401, 166, 530],
    340: [610, 992, 1554],
    341: [1280, 196, 1178, 1195],
    342: [1540, 1871, 884, 18, 1924, 1271, 623],
    343: [245, 1288, 1883, 1398, 50],
    344: [1712, 820, 1704, 1575, 258],
    345: [309, 1298, 512, 296, 964, 1941, 303],
    346: [374, 1748],
    347: [402, 616, 710, 1305],
    348: [1604, 1733, 1900, 1227, 178, 1573],
    349: [660, 1580],
    350: [1825, 87, 239, 1794, 1690, 717, 467, 203],
    351: [1937],
    352: [1445, 1882, 306, 114, 1946, 1320],
    353: [587, 804],
    354: [1971, 8, 1936],
    355: [304, 1952],
    356: [1106, 1659, 1837, 15],
    357: [1859, 1537, 9],
    358: [698, 1344, 422, 928],
    359: [222, 871, 782, 1982, 1804, 1210, 936, 1078],
    360: [1908, 1711, 1085, 956, 1662, 713],
    361: [408, 1187, 626],
    362: [1036, 1409, 138, 1579],
    363: [249, 1836, 1725, 1686],
    364: [1177, 631, 831, 1287],
    366: [1493, 1769, 1728, 1770, 667, 1633, 449],
    367: [1272, 1475, 1035, 1562, 1777, 689],
    368: [1799, 455, 129],
    369: [692, 392],
    370: [827, 277, 1432, 369, 841, 1508, 1279, 568],
    371: [1687, 1823, 1564, 114520, 1006, 946],
    372: [1790, 1831, 1084, 541],
    373: [1960, 848],
    374: [57, 441, 523, 1368, 31, 976, 829, 578, 1088],
    375: [1717, 1290, 291, 591, 1429, 100],
    376: [466, 604, 1212, 557],
    377: [89, 412, 683, 1793, 810],
    378: [584, 1052, 1571],
    379: [1685, 1610],
    380: [989, 1533, 1364, 1866, 479, 481],
    381: [312, 1800, 855, 911, 657],
    382: [1245, 668, 85],
    383: [207, 170, 1307, 707],
    384: [361, 1895, 545, 1891, 851, 1444, 1588],
    385: [1995, 1127, 577, 1692, 1348, 659],
    386: [97, 1722, 476, 290, 218, 32, 589, 1942, 1484],
    387: [229, 53, 417, 1192],
    389: [366, 1944, 485],
    390: [1353, 673, 597],
    391: [400, 1199, 857, 436, 1617, 564],
    392: [549, 1236, 919],
    393: [324, 1113],
    394: [1114, 282, 776, 1421, 1489, 1829, 1228],
    395: [1872, 794, 939],
    396: [1538, 1874, 1090, 511, 1361, 528, 1726, 160],
    397: [225, 709, 595, 1278],
    398: [473, 798],
    399: [1158, 1380, 1098, 1229, 765, 580, 307],
    400: [1262, 1373, 1600],
    401: [622, 389, 443],
    402: [993, 620, 251],
    403: [161, 1599, 1957],
    404: [1367],
    405: [567, 1916, 1030, 1201, 1452, 1914, 879, 1584, 750, 1200, 1585, 1284],
    406: [1242, 127, 1325, 1099, 107, 1174, 808],
    407: [1953],
    408: [493, 168, 1524, 1808, 1658],
    409: [1845, 1561, 1315, 301, 1263, 561],
    410: [534, 868, 929, 1641],
    411: [6, 1835, 1987, 46, 980, 1060, 1517],
    412: [544, 1327, 662],
    413: [1449, 1632, 1926, 397, 1663, 905, 1997],
    414: [842, 1841, 1146],
    415: [935, 790, 67, 1716, 224, 927, 462, 1555],
    416: [394, 1337, 618],
    417: [1730, 1237, 1745, 180, 1439],
    418: [634, 1824, 872, 1312, 259],
    420: [1082],
    421: [1693, 1391, 1759, 840],
    422: [419, 1666],
    423: [550, 69, 1673, 1809, 439, 431, 1880],
    424: [1731, 116],
    425: [1457, 1873, 522, 1461, 1031, 825, 1881, 1346],
    426: [1723, 335, 1191, 1680],
    427: [490, 819],
    428: [943, 1003, 1947, 1991, 1202, 1101],
    429: [1233, 1501, 933, 996, 435, 521],
    430: [699, 357, 1492, 1313],
    431: [1768, 378, 1998],
    432: [182, 807, 582, 1198, 688],
    433: [853, 830, 1763, 1594, 1019, 716],
    434: [642, 1983, 677],
    435: [338, 654, 1529, 1945, 272],
    436: [1316, 238, 20],
    437: [588, 1140, 193],
    438: [1043, 1453, 684],
    439: [1365, 1152, 1985, 340, 60],
    440: [1775, 1806, 949, 1455, 1389],
    441: [227],
    442: [836, 1709, 468, 489],
    443: [930, 1955, 169, 863, 1393, 1665],
    444: [785, 274, 1962, 214],
    445: [739, 1710, 1917, 1250, 1416],
    446: [117, 1642, 742, 1292, 888, 381, 79, 316, 1699],
    448: [1803, 1816, 896, 1122, 524, 1081, 1467],
    449: [1436, 1402, 313, 870, 460, 1317, 519, 491, 293],
    450: [114519, 1273, 1070, 682, 1559],
    451: [1377, 1597, 495, 679],
    452: [1870, 674, 1009],
    453: [1175],
    454: [352, 1820, 889, 1791],
    455: [26, 1884, 1972, 1083],
    456: [1677, 1589, 113],
    457: [284, 447, 821, 1778, 58],
    458: [727, 1243, 220, 643, 96, 1135],
    459: [257, 1394, 1581, 556, 114518, 1702],
    460: [13, 114522],
    461: [318, 1371],
    462: [1713, 424, 869, 565, 62, 1653],
    463: [1974, 1792, 1618, 268, 448],
    464: [658, 1029, 1145],
    465: [331],
    466: [862, 22, 1248, 1079, 155, 968, 14],
    467: [1879, 509, 502],
    468: [753, 223, 1354],
    469: [1214, 311, 514, 384],
    470: [1696, 1478, 190, 1350, 1311, 769, 952, 1000, 1611, 1459],
    471: [429, 1134, 1774, 235, 1404, 926],
    472: [346, 1923, 647],
    473: [695, 1355],
    474: [1291, 395, 147],
    475: [1162, 1614, 297, 1073, 120],
    476: [1907, 146, 213, 773],
    477: [1269, 781, 1093, 363],
    478: [1335, 1132, 570, 768, 123, 593],
    479: [1286, 266],
    480: [1684],
    481: [337, 1613, 1289, 1574],
    482: [413],
    483: [445, 1007, 101],
    484: [1076, 714, 1556],
    485: [942, 1548, 573, 1136, 208, 596, 743, 1340, 1782],
    486: [552, 1424],
    487: [185, 1860, 903, 779, 470],
    488: [510, 1105, 728, 1411, 1215],
    489: [796, 554, 446],
    490: [637],
    491: [1780, 132, 1221, 558, 1645],
    492: [569, 1004, 1438, 1852, 849],
    493: [1363, 1246, 1422, 697],
    495: [608, 1749, 518, 17],
    496: [1033, 475, 1047, 1486, 761],
    497: [273, 179, 1961, 1802, 174, 1366],
    498: [748, 1992, 1976, 119, 1549],
    499: [292],
    500: [823, 983, 371, 3, 496, 537, 1861, 1660, 815],
}

def run_tester(binary, seed):
    proc = subprocess.run([ 'java', '-jar', 'tester.jar', '-exec', binary, '-seed', str(seed) ], stdout=subprocess.PIPE)
    for line in reversed(proc.stdout.decode().splitlines()):
        if line.startswith('Score = '):
            return float(line.split()[2])

if __name__ == '__main__':
    import argparse
    parser = argparse.ArgumentParser()
    parser.add_argument('binary', nargs='?', default='./a.out')
    parser.add_argument('-j', '--jobs', type=int, default=2)
    args = parser.parse_args()

    pool = concurrent.futures.ThreadPoolExecutor(max_workers=args.jobs)
    future = {}
    for s in range(50, 500 + 1, 10):
        seed = min(table[s])
        future[s] = pool.submit(lambda seed: run_tester(args.binary, seed), seed)
    print('s', 'score', sep='\t')
    for s in range(50, 500 + 1, 10):
        score = future[s].result()
        print(s, score, sep='\t')
